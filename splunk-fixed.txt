'macro_openshift_logs' (openshift_deployment_id=*)
(openshift_deployment_labels="getapp=discovery")
(openshift_namespace="mafat-getapp-prod")
() ()
| head 500
| eval clean = replace(_raw, "\x1b\[[0-9;]*m", "")
| rex field=clean "stdout F (?<extracted_json>\{.*\})"
| spath input=extracted_json
| eval log_level_display=case(
    level="60", "ðŸ”´ FATAL",
    level="50", "ðŸ”´ ERROR", 
    level="40", "ðŸŸ  WARN", 
    level="30", "ðŸŸ¢ INFO", 
    level="20", "ðŸŸ£ DEBUG", 
    level="10", "âšª TRACE", 
    1=1, "ðŸŸ¢ INFO"
  ) 
| eval formatted_log=log_level_display." [".time."] ".context." - ".message." (".traceId.")"
| table formatted_log
